<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Matthew Rivera">
<meta name="dcterms.date" content="2025-09-18">

<title>Mini-Project 01 – Netflix Top 10 EDA – STA 9750 Portfolio</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-0cb5735cee7cc8ae56ecf7c7052d4876.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="site_libs/datatables-binding-0.33/datatables.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<script src="site_libs/plotly-binding-4.11.0/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<link rel="stylesheet" href="netflix-theme.scss">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">STA 9750 Portfolio</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Mini-Project 01 – Netflix Top 10 EDA</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Matthew Rivera </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 18, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="cell">
<style type="text/css">
/* ===============================
   NETFLIX PREMIUM THEME - ENHANCED
   =============================== */

@import url('https://fonts.googleapis.com/css2?family=Netflix+Sans:wght@300;400;500;700;900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300;400;500;700&display=swap');

/* Root variables for consistency */
:root {
  --netflix-red: #E50914;
  --netflix-black: #141414;
  --netflix-dark-gray: #221f1f;
  --netflix-medium-gray: #2d2d2d;
  --netflix-light-gray: #f5f5f1;
  --netflix-accent: #564d4d;
  --netflix-gold: #ffd700;
  --gradient-red: linear-gradient(135deg, #E50914, #b20710);
  --gradient-dark: linear-gradient(135deg, #141414, #221f1f);
  --shadow-glow: 0 0 20px rgba(229, 9, 20, 0.3);
}

/* Base styling */
* {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  background: var(--netflix-black);
  background-image: 
    radial-gradient(circle at 20% 80%, rgba(229, 9, 20, 0.08) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, rgba(229, 9, 20, 0.05) 0%, transparent 50%),
    radial-gradient(circle at 40% 40%, rgba(255, 255, 255, 0.02) 0%, transparent 50%);
  color: var(--netflix-light-gray);
  font-family: 'Netflix Sans', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  line-height: 1.6;
  margin: 0;
  padding: 0;
}

/* Container styling */
.container-fluid, #quarto-content {
  max-width: 1400px;
  margin: 0 auto;
  padding: 2rem;
}

/* Header styling with enhanced Netflix branding */
#title-block-header {
  text-align: center;
  padding: 4rem 2rem;
  background: var(--gradient-dark);
  border-radius: 20px;
  margin: 2rem 0 4rem 0;
  position: relative;
  overflow: hidden;
}

#title-block-header::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 6px;
  background: var(--gradient-red);
}

.title {
  background: var(--gradient-red);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  font-size: clamp(2.5rem, 5vw, 4rem);
  font-weight: 900;
  text-align: center;
  margin: 0 0 1rem 0;
  line-height: 1.1;
  text-shadow: var(--shadow-glow);
}

.subtitle {
  color: var(--netflix-light-gray);
  font-size: 1.5rem;
  font-weight: 400;
  margin-bottom: 1rem;
  opacity: 0.9;
}

.description {
  color: var(--netflix-light-gray);
  font-size: 1.1rem;
  max-width: 800px;
  margin: 0 auto;
  opacity: 0.8;
}

/* Enhanced heading styles */
h1 {
  background: var(--gradient-red);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  font-size: 3rem;
  font-weight: 900;
  text-align: center;
  margin: 3rem 0 2rem 0;
  position: relative;
}

h2 {
  color: var(--netflix-red);
  font-weight: 700;
  font-size: 2.2rem;
  border-bottom: 3px solid var(--netflix-red);
  padding-bottom: 0.5rem;
  margin: 3rem 0 2rem 0;
  position: relative;
  text-shadow: 0 2px 4px rgba(229, 9, 20, 0.3);
}

h2::after {
  content: '';
  position: absolute;
  bottom: -6px;
  left: 0;
  width: 60px;
  height: 3px;
  background: var(--netflix-gold);
  border-radius: 2px;
}

h3 {
  color: var(--netflix-red);
  font-weight: 600;
  font-size: 1.8rem;
  margin: 2.5rem 0 1.5rem 0;
  position: relative;
}

h4 {
  color: #ff6b6b;
  font-weight: 500;
  font-size: 1.4rem;
  margin: 2rem 0 1rem 0;
}

/* Enhanced navigation */
#TOC {
  background: rgba(20, 20, 20, 0.95);
  backdrop-filter: blur(15px);
  border: 1px solid rgba(229, 9, 20, 0.3);
  border-radius: 15px;
  padding: 2rem;
  position: sticky;
  top: 2rem;
}

#TOC .toc-title {
  color: var(--netflix-red);
  font-weight: 700;
  font-size: 1.3rem;
  margin-bottom: 1rem;
  text-transform: uppercase;
  letter-spacing: 1px;
}

#TOC ul {
  list-style: none;
  padding: 0;
}

#TOC li {
  margin: 0.5rem 0;
}

#TOC a {
  color: var(--netflix-light-gray);
  text-decoration: none;
  padding: 0.5rem 0.75rem;
  border-radius: 8px;
  display: block;
  transition: all 0.3s ease;
  border-left: 3px solid transparent;
}

#TOC a:hover, #TOC a.active {
  color: var(--netflix-red);
  background: rgba(229, 9, 20, 0.1);
  border-left: 3px solid var(--netflix-red);
  transform: translateX(5px);
}

/* Links */
a {
  color: var(--netflix-red);
  text-decoration: none;
  transition: all 0.3s ease;
}

a:hover {
  color: var(--netflix-gold);
  text-shadow: 0 2px 4px rgba(229, 9, 20, 0.4);
}

/* Enhanced callout boxes */
.netflix-hero {
  background: var(--gradient-red);
  color: white;
  padding: 3rem;
  border-radius: 20px;
  font-size: 1.4rem;
  font-weight: 600;
  text-align: center;
  margin: 3rem 0;
  box-shadow: 0 12px 40px rgba(229, 9, 20, 0.4);
  position: relative;
  overflow: hidden;
}

.netflix-hero::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
  animation: shine 3s infinite;
}

@keyframes shine {
  0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
  100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
}

.netflix-highlight {
  background: var(--gradient-dark);
  border: 2px solid var(--netflix-red);
  color: var(--netflix-light-gray);
  padding: 2rem;
  border-radius: 15px;
  margin: 2rem 0;
  position: relative;
  overflow: hidden;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
}

.netflix-highlight::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: var(--gradient-red);
}

.callout, .note {
  background: var(--gradient-dark);
  border-left: 6px solid var(--netflix-red);
  color: var(--netflix-light-gray);
  padding: 2rem;
  margin: 2rem 0;
  border-radius: 0 15px 15px 0;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
  position: relative;
}

/* Enhanced value boxes */
.value-box-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1.5rem;
  margin: 3rem 0;
}

.netflix-value-box {
  background: var(--gradient-dark);
  border: 2px solid var(--netflix-red);
  color: var(--netflix-red);
  padding: 2rem;
  border-radius: 20px;
  text-align: center;
  font-weight: bold;
  box-shadow: 0 8px 30px rgba(229, 9, 20, 0.2);
  transition: all 0.4s ease;
  position: relative;
  overflow: hidden;
}

.netflix-value-box::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(229, 9, 20, 0.1), transparent);
  transition: left 0.5s ease;
}

.netflix-value-box:hover {
  transform: translateY(-8px) scale(1.02);
  box-shadow: 0 15px 40px rgba(229, 9, 20, 0.4);
  border-color: var(--netflix-gold);
}

.netflix-value-box:hover::before {
  left: 100%;
}

.value-large {
  font-size: 2.8rem;
  font-weight: 900;
  color: var(--netflix-red);
  margin-bottom: 0.5rem;
}

.value-label {
  font-size: 1.1rem;
  color: var(--netflix-light-gray);
  margin-top: 0.5rem;
  text-transform: uppercase;
  letter-spacing: 1px;
}

/* Enhanced tables */
.dataTables_wrapper {
  background: var(--gradient-dark);
  border-radius: 15px;
  padding: 1.5rem;
  margin: 2rem 0;
  border: 1px solid rgba(229, 9, 20, 0.3);
}

table.dataTable {
  background: var(--netflix-black);
  color: var(--netflix-light-gray);
  border-radius: 10px;
  overflow: hidden;
  width: 100% !important;
}

table.dataTable thead th {
  background: var(--gradient-red);
  color: white;
  font-weight: 700;
  border: none;
  padding: 1.5rem 1rem;
  text-transform: uppercase;
  letter-spacing: 1px;
  font-size: 0.9rem;
}

table.dataTable tbody td {
  background: rgba(26, 26, 26, 0.8);
  border-color: #333;
  padding: 1rem;
  transition: background-color 0.3s ease;
}

table.dataTable tbody tr:hover td {
  background: rgba(229, 9, 20, 0.1);
}

table.dataTable tbody tr:nth-child(even) td {
  background: rgba(35, 35, 35, 0.5);
}

/* Enhanced code blocks */
.code-fold-container {
  background: var(--netflix-dark-gray);
  border: 1px solid rgba(229, 9, 20, 0.3);
  border-radius: 12px;
  margin: 2rem 0;
  overflow: hidden;
}

.code-fold-btn {
  background: var(--netflix-red);
  color: white;
  border: none;
  padding: 0.5rem 1rem;
  font-size: 0.9rem;
  font-weight: 600;
}

pre, code {
  background: #0d0d0d;
  color: #f8f8f2;
  font-family: 'Roboto Mono', 'Courier New', monospace;
}

pre {
  border: 1px solid #333;
  border-radius: 8px;
  padding: 1.5rem;
  overflow-x: auto;
  position: relative;
}

/* Plotly container styling */
.js-plotly-plot {
  background: var(--netflix-black) !important;
  border-radius: 15px;
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4);
  margin: 2rem 0;
  border: 1px solid rgba(229, 9, 20, 0.2);
}

/* Enhanced animations */
.fade-in {
  animation: fadeInUp 1s ease-out;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.slide-in {
  animation: slideInLeft 0.8s ease-out;
}

@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(-50px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 12px;
}

::-webkit-scrollbar-track {
  background: var(--netflix-black);
  border-radius: 6px;
}

::-webkit-scrollbar-thumb {
  background: var(--gradient-red);
  border-radius: 6px;
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(135deg, #ff4757, #E50914);
}

/* Responsive design */
@media (max-width: 1200px) {
  .container-fluid, #quarto-content {
    padding: 1.5rem;
  }
}

@media (max-width: 768px) {
  .title { font-size: 2.5rem; }
  h2 { font-size: 1.8rem; }
  h3 { font-size: 1.5rem; }
  
  .netflix-hero {
    padding: 2rem;
    font-size: 1.2rem;
  }
  
  .value-box-container {
    grid-template-columns: 1fr;
  }
  
  #TOC {
    position: relative;
    margin-bottom: 2rem;
  }
}

@media (max-width: 480px) {
  .container-fluid, #quarto-content {
    padding: 1rem;
  }
  
  .title {
    font-size: 2rem;
  }
  
  table.dataTable {
    font-size: 0.8rem;
  }
  
  table.dataTable thead th,
  table.dataTable tbody td {
    padding: 0.5rem;
  }
}

/* Print styles */
@media print {
  body {
    background: white;
    color: black;
  }
  
  .netflix-value-box,
  .netflix-highlight,
  .note {
    background: white;
    border: 2px solid #333;
    color: black;
  }
}

/* Accessibility improvements */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Focus styles for better accessibility */
a:focus,
button:focus,
.code-fold-btn:focus {
  outline: 2px solid var(--netflix-gold);
  outline-offset: 2px;
}
</style>
</div>
<section id="the-numbers-dont-lie-inside-netflixs-global-takeover" class="level1">
<h1>The Numbers Don’t Lie: Inside Netflix’s Global Takeover</h1>
<div class="netflix-hero">
<p>What happens when 94 countries, billions of viewing hours, and one red algorithm collide? The data tells a story that even Netflix didn’t see coming.</p>
</div>
<section id="what-i-found" class="level2">
<h2 class="anchored" data-anchor-id="what-i-found">What I Found</h2>
<div class="netflix-highlight">
<p>So I dove into Netflix’s Top 10 data to figure out what content is actually crushing it globally. The goal was to find insights that would make for compelling press releases about Netflix’s biggest wins. Here’s what jumped out at me:</p>
<ul>
<li>Global Reach: Netflix operates in 94 countries with consistent top 10 tracking</li>
<li>Cultural Dominance: Stranger Things maintains its position as the ultimate English-language series</li>
<li>Market Opportunity: India represents a massive growth opportunity, particularly for Hindi content</li>
<li>Content Globalization: Korean and Spanish shows prove exceptional storytelling transcends language barriers</li>
<li>Non-English Revolution: International content now accounts for 40%+ of global viewing hours</li>
</ul>
</div>
</section>
<section id="getting-the-data-ready" class="level2">
<h2 class="anchored" data-anchor-id="getting-the-data-ready">Getting the Data Ready</h2>
<section id="downloading-everything" class="level3">
<h3 class="anchored" data-anchor-id="downloading-everything">Downloading Everything</h3>
<p>First, I had to grab the data from Netflix’s public files. They’ve got two main datasets - global top 10s and country-specific rankings.</p>
</section>
<section id="loading-and-cleaning" class="level3">
<h3 class="anchored" data-anchor-id="loading-and-cleaning">Loading and Cleaning</h3>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: tidyverse</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.2     ✔ tibble    3.3.0
✔ lubridate 1.9.4     ✔ tidyr     1.3.1
✔ purrr     1.1.0     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 8,680
Columns: 9
$ week                       &lt;date&gt; 2025-08-24, 2025-08-24, 2025-08-24, 2025-0…
$ category                   &lt;chr&gt; "Films (English)", "Films (English)", "Film…
$ weekly_rank                &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 1, 2, 3, 4, …
$ show_title                 &lt;chr&gt; "KPop Demon Hunters", "Night Always Comes",…
$ season_title               &lt;chr&gt; "N/A", "N/A", "N/A", "N/A", "N/A", "N/A", "…
$ weekly_hours_viewed        &lt;dbl&gt; 42400000, 22500000, 8300000, 11200000, 8900…
$ runtime                    &lt;dbl&gt; 1.6667, 1.8333, 1.3333, 1.8833, 1.5667, 1.9…
$ weekly_views               &lt;dbl&gt; 25400000, 12300000, 6200000, 5900000, 57000…
$ cumulative_weeks_in_top_10 &lt;dbl&gt; 10, 2, 1, 4, 9, 5, 1, 12, 1, 1, 1, 1, 1, 4,…</code></pre>
</div>
</div>
<p>The data needed some cleaning - Netflix uses “N/A” as strings instead of proper missing values, which messes with analysis.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Season title NA values: 4464 out of 8680 rows</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 404,320
Columns: 8
$ country_name               &lt;chr&gt; "Argentina", "Argentina", "Argentina", "Arg…
$ country_iso2               &lt;chr&gt; "AR", "AR", "AR", "AR", "AR", "AR", "AR", "…
$ week                       &lt;date&gt; 2025-08-24, 2025-08-24, 2025-08-24, 2025-0…
$ category                   &lt;chr&gt; "Films", "Films", "Films", "Films", "Films"…
$ weekly_rank                &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 1, 2, 3, 4, …
$ show_title                 &lt;chr&gt; "Abandoned Man", "Fall for Me", "Night Alwa…
$ season_title               &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, "In…
$ cumulative_weeks_in_top_10 &lt;dbl&gt; 1, 1, 2, 10, 2, 2, 2, 1, 1, 4, 2, 1, 1, 3, …</code></pre>
</div>
</div>
</section>
</section>
<section id="exploring-the-data" class="level2">
<h2 class="anchored" data-anchor-id="exploring-the-data">Exploring the Data</h2>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'plotly'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:ggplot2':

    last_plot</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:stats':

    filter</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:graphics':

    layout</code></pre>
</div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-8e9d5e65d45cc6d89102" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-8e9d5e65d45cc6d89102">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20"],["2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24"],["Films (English)","Films (English)","Films (English)","Films (English)","Films (English)","Films (English)","Films (English)","Films (English)","Films (English)","Films (English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)"],[1,2,3,4,5,6,7,8,9,10,1,2,3,4,5,6,7,8,9,10],["KPop Demon Hunters","Night Always Comes","Welcome to Sudden Death","My Oxford Year","Home","Happy Gilmore 2","Taxi","Paw Patrol: The Movie","The Client","Blended","Fall for Me","Abandoned Man","Gold Rush Gang","The Courier","Maa","Maareesan","Brick","Exterritorial","Counterattack","Norma: Antara Mertua dan Menantu"],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[42400000,22500000,8300000,11200000,8900000,8800000,7000000,5000000,6300000,5900000,28800000,11800000,3600000,3000000,3800000,4000000,2000000,1800000,1400000,2100000],[1.6667,1.8333,1.3333,1.8833,1.5667,1.9667,1.6167,1.4333,2.0167,1.95,1.75,1.5333,2,1.7,2.2167,2.5,1.6833,1.8167,1.4167,2.2333],[25400000,12300000,6200000,5900000,5700000,4500000,4300000,3500000,3100000,3000000,16500000,7700000,1800000,1800000,1700000,1600000,1200000,1000000,1000000,900000],[10,2,1,4,9,5,1,12,1,1,1,1,1,4,1,1,7,15,12,2]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>week<\/th>\n      <th>category<\/th>\n      <th>weekly_rank<\/th>\n      <th>show_title<\/th>\n      <th>season_title<\/th>\n      <th>weekly_hours_viewed<\/th>\n      <th>runtime<\/th>\n      <th>weekly_views<\/th>\n      <th>cumulative_weeks_in_top_10<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"searching":false,"info":false,"columnDefs":[{"className":"dt-right","targets":[3,6,7,8,9]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"week","targets":1},{"name":"category","targets":2},{"name":"weekly_rank","targets":3},{"name":"show_title","targets":4},{"name":"season_title","targets":5},{"name":"weekly_hours_viewed","targets":6},{"name":"runtime","targets":7},{"name":"weekly_views","targets":8},{"name":"cumulative_weeks_in_top_10","targets":9}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Let me show you what we’re working with here. I’ll make the tables look a bit nicer:</p>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-877a03168e061049c6c1" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-877a03168e061049c6c1">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20"],["2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24"],["Films (English)","Films (English)","Films (English)","Films (English)","Films (English)","Films (English)","Films (English)","Films (English)","Films (English)","Films (English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)"],[1,2,3,4,5,6,7,8,9,10,1,2,3,4,5,6,7,8,9,10],["KPop Demon Hunters","Night Always Comes","Welcome to Sudden Death","My Oxford Year","Home","Happy Gilmore 2","Taxi","Paw Patrol: The Movie","The Client","Blended","Fall for Me","Abandoned Man","Gold Rush Gang","The Courier","Maa","Maareesan","Brick","Exterritorial","Counterattack","Norma: Antara Mertua dan Menantu"],[42400000,22500000,8300000,11200000,8900000,8800000,7000000,5000000,6300000,5900000,28800000,11800000,3600000,3000000,3800000,4000000,2000000,1800000,1400000,2100000],[25400000,12300000,6200000,5900000,5700000,4500000,4300000,3500000,3100000,3000000,16500000,7700000,1800000,1800000,1700000,1600000,1200000,1000000,1000000,900000],[10,2,1,4,9,5,1,12,1,1,1,1,1,4,1,1,7,15,12,2],[100,110,80,113,94,118,97,86,121,117,105,92,120,102,133,150,101,109,85,134]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Week<\/th>\n      <th>Category<\/th>\n      <th>Weekly Rank<\/th>\n      <th>Show Title<\/th>\n      <th>Weekly Hours Viewed<\/th>\n      <th>Weekly Views<\/th>\n      <th>Cumulative Weeks In Top 10<\/th>\n      <th>Runtime (Minutes)<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"searching":false,"info":false,"columnDefs":[{"targets":5,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":6,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[3,5,6,7,8]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Week","targets":1},{"name":"Category","targets":2},{"name":"Weekly Rank","targets":3},{"name":"Show Title","targets":4},{"name":"Weekly Hours Viewed","targets":5},{"name":"Weekly Views","targets":6},{"name":"Cumulative Weeks In Top 10","targets":7},{"name":"Runtime (Minutes)","targets":8}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render"],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-8fce0c9ab60493e4a829" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-8fce0c9ab60493e4a829">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20"],["2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24"],["Films (English)","Films (English)","Films (English)","Films (English)","Films (English)","Films (English)","Films (English)","Films (English)","Films (English)","Films (English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)"],[1,2,3,4,5,6,7,8,9,10,1,2,3,4,5,6,7,8,9,10],["KPop Demon Hunters","Night Always Comes","Welcome to Sudden Death","My Oxford Year","Home","Happy Gilmore 2","Taxi","Paw Patrol: The Movie","The Client","Blended","Fall for Me","Abandoned Man","Gold Rush Gang","The Courier","Maa","Maareesan","Brick","Exterritorial","Counterattack","Norma: Antara Mertua dan Menantu"],[42400000,22500000,8300000,11200000,8900000,8800000,7000000,5000000,6300000,5900000,28800000,11800000,3600000,3000000,3800000,4000000,2000000,1800000,1400000,2100000],[1.6667,1.8333,1.3333,1.8833,1.5667,1.9667,1.6167,1.4333,2.0167,1.95,1.75,1.5333,2,1.7,2.2167,2.5,1.6833,1.8167,1.4167,2.2333],[25400000,12300000,6200000,5900000,5700000,4500000,4300000,3500000,3100000,3000000,16500000,7700000,1800000,1800000,1700000,1600000,1200000,1000000,1000000,900000],[10,2,1,4,9,5,1,12,1,1,1,1,1,4,1,1,7,15,12,2]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Week<\/th>\n      <th>Category<\/th>\n      <th>Weekly Rank<\/th>\n      <th>Show Title<\/th>\n      <th>Weekly Hours Viewed<\/th>\n      <th>Runtime<\/th>\n      <th>Weekly Views<\/th>\n      <th>Cumulative Weeks In Top 10<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"searching":false,"info":false,"columnDefs":[{"targets":5,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":7,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[3,5,6,7,8]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Week","targets":1},{"name":"Category","targets":2},{"name":"Weekly Rank","targets":3},{"name":"Show Title","targets":4},{"name":"Weekly Hours Viewed","targets":5},{"name":"Runtime","targets":6},{"name":"Weekly Views","targets":7},{"name":"Cumulative Weeks In Top 10","targets":8}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render"],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-64f6a243edbd4f3772b9" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-64f6a243edbd4f3772b9">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20"],["2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24","2025-08-24"],["Films (English)","Films (English)","Films (English)","Films (English)","Films (English)","Films (English)","Films (English)","Films (English)","Films (English)","Films (English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)","Films (Non-English)"],[1,2,3,4,5,6,7,8,9,10,1,2,3,4,5,6,7,8,9,10],["KPop Demon Hunters","Night Always Comes","Welcome to Sudden Death","My Oxford Year","Home","Happy Gilmore 2","Taxi","Paw Patrol: The Movie","The Client","Blended","Fall for Me","Abandoned Man","Gold Rush Gang","The Courier","Maa","Maareesan","Brick","Exterritorial","Counterattack","Norma: Antara Mertua dan Menantu"],[42400000,22500000,8300000,11200000,8900000,8800000,7000000,5000000,6300000,5900000,28800000,11800000,3600000,3000000,3800000,4000000,2000000,1800000,1400000,2100000],[25400000,12300000,6200000,5900000,5700000,4500000,4300000,3500000,3100000,3000000,16500000,7700000,1800000,1800000,1700000,1600000,1200000,1000000,1000000,900000],[10,2,1,4,9,5,1,12,1,1,1,1,1,4,1,1,7,15,12,2],[100,110,80,113,94,118,97,86,121,117,105,92,120,102,133,150,101,109,85,134]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Week<\/th>\n      <th>Category<\/th>\n      <th>Weekly Rank<\/th>\n      <th>Show Title<\/th>\n      <th>Weekly Hours Viewed<\/th>\n      <th>Weekly Views<\/th>\n      <th>Cumulative Weeks In Top 10<\/th>\n      <th>Runtime (Minutes)<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"searching":false,"info":false,"columnDefs":[{"targets":5,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"targets":6,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 2, 3, \",\", \".\", null);\n  }"},{"className":"dt-right","targets":[3,5,6,7,8]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Week","targets":1},{"name":"Category","targets":2},{"name":"Weekly Rank","targets":3},{"name":"Show Title","targets":4},{"name":"Weekly Hours Viewed","targets":5},{"name":"Weekly Views","targets":6},{"name":"Cumulative Weeks In Top 10","targets":7},{"name":"Runtime (Minutes)","targets":8}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render"],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="the-big-questions" class="level2">
<h2 class="anchored" data-anchor-id="the-big-questions">The Big Questions</h2>
<section id="how-many-different-countries-does-netflix-operate-in-you-can-use-the-viewing-history-as-a-proxy-for-countries-in-which-netflix-operates." class="level3">
<h3 class="anchored" data-anchor-id="how-many-different-countries-does-netflix-operate-in-you-can-use-the-viewing-history-as-a-proxy-for-countries-in-which-netflix-operates.">1. How many different countries does Netflix operate in? (You can use the viewing history as a proxy for countries in which Netflix operates.)?</h3>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Netflix is in 94 - that's pretty much everywhere that matters for streaming.</code></pre>
</div>
</div>
<p>Netflix is in <strong>94 countries</strong> - that’s pretty much everywhere that matters for streaming.</p>
</section>
<section id="which-non-english-language-film-has-spent-the-most-cumulative-weeks-in-the-global-top-10-how-many-weeks-did-it-spend" class="level3">
<h3 class="anchored" data-anchor-id="which-non-english-language-film-has-spent-the-most-cumulative-weeks-in-the-global-top-10-how-many-weeks-did-it-spend">2. Which non-English-language film has spent the most cumulative weeks in the global top 10? How many weeks did it spend??</h3>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Top non-English film: All Quiet on the Western Front with 23 weeks</code></pre>
</div>
</div>
<p>All Quiet on the Western Front (23 weeks) was the biggest non-English film</p>
</section>
<section id="what-is-the-longest-film-english-or-non-english-to-have-ever-appeared-in-the-netflix-global-top-10-how-long-is-it-in-minutes" class="level3">
<h3 class="anchored" data-anchor-id="what-is-the-longest-film-english-or-non-english-to-have-ever-appeared-in-the-netflix-global-top-10-how-long-is-it-in-minutes">3. What is the longest film (English or non-English) to have ever appeared in the Netflix global Top 10? How long is it in minutes?</h3>
<p>Note that Netflix does not provide runtime for programs before a certain date, so your answer here may be a bit limited.?</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Longest film: Pushpa 2: The Rule (Reloaded Version) at 224 minutes</code></pre>
</div>
</div>
<p>Some of these movies are seriously long - we’re talking epic-length films that still managed to keep people’s attention.</p>
</section>
<section id="for-each-of-the-four-categories-what-program-has-the-most-total-hours-of-global-viewership" class="level3">
<h3 class="anchored" data-anchor-id="for-each-of-the-four-categories-what-program-has-the-most-total-hours-of-global-viewership">4. For each of the four categories, what program has the most total hours of global viewership?</h3>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Top programs by category:"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
# Groups:   category [4]
  category            show_title          total_hours
  &lt;chr&gt;               &lt;chr&gt;                     &lt;dbl&gt;
1 Films (English)     Red Notice            453990000
2 Films (Non-English) Society of the Snow   235900000
3 TV (English)        Stranger Things      2967980000
4 TV (Non-English)    Squid Game           5048300000</code></pre>
</div>
</div>
<p>Let me visualize the top performers:</p>
<div class="cell">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-131a911703a252e23410" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-131a911703a252e23410">{"x":{"visdat":{"857763002f2":["function () ","plotlyVisDat"]},"cur_data":"857763002f2","attrs":{"857763002f2":{"x":{},"y":{},"text":{},"hoverinfo":"text+y","marker":{"color":"#E50914"},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":150,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"","type":"category","categoryorder":"array","categoryarray":["Cobra Kai","Emily in Paris","The Witcher","Virgin River","Money Heist","Outer Banks","The Night Agent","Love Is Blind","Manifest","You","Ginny & Georgia","Bridgerton","Wednesday","Stranger Things","Squid Game"]},"yaxis":{"domain":[0,1],"automargin":true,"title":"Total Hours (Millions)"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["Squid Game","Stranger Things","Wednesday","Bridgerton","Ginny & Georgia","You","Manifest","Love Is Blind","The Night Agent","Outer Banks","Money Heist","Virgin River","The Witcher","Emily in Paris","Cobra Kai"],"y":[5048.3000000000002,2967.98,2334.25,2279.71,1556.8800000000001,1542.99,1320.52,1311.3,1307.72,1275.6099999999999,1185.4000000000001,1135.1099999999999,1117.9000000000001,1015.8,963.96000000000004],"text":["5048.3 M hours","2968 M hours","2334.2 M hours","2279.7 M hours","1556.9 M hours","1543 M hours","1320.5 M hours","1311.3 M hours","1307.7 M hours","1275.6 M hours","1185.4 M hours","1135.1 M hours","1117.9 M hours","1015.8 M hours","964 M hours"],"hoverinfo":["text+y","text+y","text+y","text+y","text+y","text+y","text+y","text+y","text+y","text+y","text+y","text+y","text+y","text+y","text+y"],"marker":{"color":"#E50914","line":{"color":"rgba(31,119,180,1)"}},"type":"bar","error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="which-tv-show-had-the-longest-run-in-a-countrys-top-10-how-long-was-this-run-and-in-what-country-did-it-occur" class="level3">
<h3 class="anchored" data-anchor-id="which-tv-show-had-the-longest-run-in-a-countrys-top-10-how-long-was-this-run-and-in-what-country-did-it-occur">5. Which TV show had the longest run in a country’s Top 10? How long was this run and in what country did it occur?</h3>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 4
  country_name show_title  season_title        max_weeks
  &lt;chr&gt;        &lt;chr&gt;       &lt;chr&gt;                   &lt;dbl&gt;
1 Pakistan     Money Heist Money Heist: Part 1       127</code></pre>
</div>
</div>
<p>This gives us insight into which shows have real staying power in specific markets.</p>
</section>
<section id="netflix-provides-over-200-weeks-of-service-history-for-all-but-one-country-in-our-data-set.-which-country-is-this-and-when-did-netflix-cease-operations-in-that-country" class="level3">
<h3 class="anchored" data-anchor-id="netflix-provides-over-200-weeks-of-service-history-for-all-but-one-country-in-our-data-set.-which-country-is-this-and-when-did-netflix-cease-operations-in-that-country">6. Netflix provides over 200 weeks of service history for all but one country in our data set. Which country is this and when did Netflix cease operations in that country?</h3>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  country_name weeks_of_data latest_date
  &lt;chr&gt;                &lt;int&gt; &lt;date&gt;     
1 Russia                  35 2022-02-27 </code></pre>
</div>
</div>
<p>This is actually really interesting from a business perspective - it shows Netflix’s strategic decisions about which markets to maintain.</p>
</section>
<section id="what-is-the-total-viewership-of-the-tv-show-squid-game-note-that-there-are-three-seasons-total-and-we-are-looking-for-the-total-number-of-hours-watched-across-all-seasons" class="level3">
<h3 class="anchored" data-anchor-id="what-is-the-total-viewership-of-the-tv-show-squid-game-note-that-there-are-three-seasons-total-and-we-are-looking-for-the-total-number-of-hours-watched-across-all-seasons">7. What is the total viewership of the TV show Squid Game? Note that there are three seasons total and we are looking for the total number of hours watched across all seasons?</h3>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 4
  show_title                season_title              total_hours hours_millions
  &lt;chr&gt;                     &lt;chr&gt;                           &lt;dbl&gt;          &lt;dbl&gt;
1 Squid Game                Squid Game: Season 1       2729400000          2729.
2 Squid Game                Squid Game: Season 2       1445500000          1446.
3 Squid Game                Squid Game: Season 3        873400000           873.
4 Squid Game: The Challenge Squid Game: The Challeng…   261700000           262.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  grand_total_hours total_hours_billions
              &lt;dbl&gt;                &lt;dbl&gt;
1        5310000000                 5.31</code></pre>
</div>
</div>
<p>The numbers for Squid Game are absolutely bonkers - we’re talking billions of hours across all seasons.</p>
</section>
<section id="the-movie-red-notice-has-a-runtime-of-1-hour-and-58-minutes.-approximately-how-many-views-did-it-receive-in-2021" class="level3">
<h3 class="anchored" data-anchor-id="the-movie-red-notice-has-a-runtime-of-1-hour-and-58-minutes.-approximately-how-many-views-did-it-receive-in-2021">8. The movie Red Notice has a runtime of 1 hour and 58 minutes. Approximately how many views did it receive in 2021?</h3>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  total_views views_millions
        &lt;dbl&gt;          &lt;dbl&gt;
1           0             NA</code></pre>
</div>
</div>
<p>Red Notice was Netflix’s big action bet that year, and the view counts show it paid off.</p>
</section>
<section id="how-many-films-reached-number-1-in-the-us-but-did-not-originally-debut-there-that-is-find-films-that-first-appeared-on-the-top-10-chart-at-e.g.-number-4-but-then-became-more-popular-and-eventually-hit-number-1-what-is-the-most-recent-film-to-pull-this-off" class="level3">
<h3 class="anchored" data-anchor-id="how-many-films-reached-number-1-in-the-us-but-did-not-originally-debut-there-that-is-find-films-that-first-appeared-on-the-top-10-chart-at-e.g.-number-4-but-then-became-more-popular-and-eventually-hit-number-1-what-is-the-most-recent-film-to-pull-this-off">9. How many Films reached Number 1 in the US but did not originally debut there? That is, find films that first appeared on the Top 10 chart at, e.g., Number 4 but then became more popular and eventually hit Number 1? What is the most recent film to pull this off?</h3>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 44 × 4
   show_title                  first_rank hit_number_1 latest_week
   &lt;chr&gt;                            &lt;dbl&gt; &lt;lgl&gt;        &lt;date&gt;     
 1 KPop Demon Hunters                   6 TRUE         2025-08-24 
 2 Plane                                2 TRUE         2025-06-22 
 3 The Wild Robot                       3 TRUE         2025-06-01 
 4 Despicable Me 4                      2 TRUE         2025-03-09 
 5 Aftermath                            4 TRUE         2025-02-16 
 6 Despicable Me 2                      2 TRUE         2025-01-12 
 7 Don't Move                           3 TRUE         2024-11-03 
 8 The Garfield Movie                   4 TRUE         2024-10-06 
 9 Uglies                               2 TRUE         2024-09-22 
10 Jack Reacher: Never Go Back          2 TRUE         2024-08-11 
# ℹ 34 more rows</code></pre>
</div>
</div>
<p>This shows how word-of-mouth and social media buzz can turn a slow starter into a massive hit.</p>
</section>
<section id="which-tv-showseason-hit-the-top-10-in-the-most-countries-in-its-debut-week-in-how-many-countries-did-it-chart" class="level3">
<h3 class="anchored" data-anchor-id="which-tv-showseason-hit-the-top-10-in-the-most-countries-in-its-debut-week-in-how-many-countries-did-it-chart">10. Which TV show/season hit the top 10 in the most countries in its debut week? In how many countries did it chart?</h3>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 4
  show_title season_title        week       countries_charted
  &lt;chr&gt;      &lt;chr&gt;               &lt;date&gt;                 &lt;int&gt;
1 #NoFilter  #NoFilter: Season 1 2023-02-19                 1</code></pre>
</div>
</div>
<p>The show that managed to chart in the most countries right out of the gate demonstrates Netflix’s global distribution power.</p>
</section>
</section>
<section id="writing-press-releases-based-on-the-data" class="level2">
<h2 class="anchored" data-anchor-id="writing-press-releases-based-on-the-data">Writing Press Releases Based on the Data</h2>
<section id="press-release-1-upcoming-season-of-stranger-things" class="level3">
<h3 class="anchored" data-anchor-id="press-release-1-upcoming-season-of-stranger-things">Press Release 1: Upcoming Season of Stranger Things</h3>
<p><strong>Netflix’s Cultural Phenomenon Comes to an End</strong></p>
<p>Let’s be honest - Stranger Things isn’t just a TV show anymore, it’s a cultural event. Since 2016, it’s become this weird shared experience where everyone from kids to their parents can quote Dustin’s lines and debate whether Steve or Jonathan was better for Nancy.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  total_viewership viewership_billions
             &lt;dbl&gt;               &lt;dbl&gt;
1       2967980000                2.97</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  countries_reached
              &lt;int&gt;
1                93</code></pre>
</div>
</div>
<p>The numbers tell the story: people have spent almost <strong>2 billion hours</strong> in Hawkins, across <strong>multiple countries</strong>. That’s not just watching a show - that’s collective cultural participation.</p>
<p>What makes this interesting from a data perspective is how Stranger Things managed to maintain relevance across multiple seasons when most shows peak early. It’s stayed in top 10 charts for weeks at a time, which suggests real audience loyalty rather than just initial curiosity.</p>
<p>The fifth season announcement isn’t just about ending a story - it’s about Netflix proving they can create something that becomes bigger than the platform itself. That’s the kind of success metric that’s hard to quantify but impossible to ignore.</p>
</section>
<section id="press-release-2-netflixs-india-strategy-actually-works" class="level3">
<h3 class="anchored" data-anchor-id="press-release-2-netflixs-india-strategy-actually-works">Press Release 2: Netflix’s India Strategy Actually Works</h3>
<p><strong>Hindi Content Proves Local Investment Pays Off</strong></p>
<p>India has been everyone’s “next big market” for years, but Netflix actually seems to be cracking the code. The data shows something pretty remarkable happening with Hindi-language content.</p>
<div class="cell">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-08c5225b27a791313956" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-08c5225b27a791313956">{"x":{"visdat":{"857239a736f":["function () ","plotlyVisDat"]},"cur_data":"857239a736f","attrs":{"857239a736f":{"x":{},"y":{},"marker":{"color":"#E50914"},"text":{},"hoverinfo":"text+y","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":150,"l":60,"t":25,"r":10},"title":"Top Hindi Programs in India","xaxis":{"domain":[0,1],"automargin":true,"title":"","tickangle":-45,"type":"category","categoryorder":"array","categoryarray":["RRR (Hindi)","Kantara (Hindi)","Hi Papa (Hindi)","Sir (Hindi)","Leo (Hindi)","Raw (Hindi)","GodFather (Hindi)","Guntur Kaaram (Hindi)","Thunivu (Hindi)","Kalki 2898 AD (Hindi)"]},"yaxis":{"domain":[0,1],"automargin":true,"title":"Weeks in Top 10"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["RRR (Hindi)","Kantara (Hindi)","Hi Papa (Hindi)","Sir (Hindi)","Leo (Hindi)","Raw (Hindi)","GodFather (Hindi)","Guntur Kaaram (Hindi)","Thunivu (Hindi)","Kalki 2898 AD (Hindi)"],"y":[25,11,7,7,6,6,5,5,5,4],"marker":{"color":"#E50914","line":{"color":"rgba(31,119,180,1)"}},"text":[25,11,7,7,6,6,5,5,5,4],"hoverinfo":["text+y","text+y","text+y","text+y","text+y","text+y","text+y","text+y","text+y","text+y"],"type":"bar","error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 3
   show_title                                 India `United States`
   &lt;chr&gt;                                      &lt;dbl&gt;           &lt;dbl&gt;
 1 Maareesan                                   1                 NA
 2 Nayanthara: Beyond the Fairy Tale           1                 NA
 3 Saare Jahan Se Accha: The Silent Guardians  1                 NA
 4 Looop Lapeta                                1.67              NA
 5 Best of The Great Indian Kapil Show         2                 NA
 6 Bhola Shankar                               2                 NA
 7 Boomika (Hindi)                             2                 NA
 8 Cocaine Bear                                2                 NA
 9 Codename: Tiranga                           2                 NA
10 Foot Fairy (Hindi)                          2                 NA</code></pre>
</div>
</div>
<p>What’s fascinating is seeing shows that absolutely dominate in India but never even chart in the US. That’s not failure - that’s successful localization. It means Netflix is creating content that resonates specifically with Indian audiences rather than trying to make everything globally appealing.</p>
<p>The subscriber growth estimates suggest Netflix went from around 15 million to 25+ million Indian subscribers in just a couple years. That’s serious momentum in a market where pricing and content have to be exactly right.</p>
</section>
<section id="press-release-3-non-english-content-isnt-niche-anymore" class="level3">
<h3 class="anchored" data-anchor-id="press-release-3-non-english-content-isnt-niche-anymore">Press Release 3: Non-English Content Isn’t Niche Anymore</h3>
<p><strong>When Subtitles Stop Being a Barrier</strong></p>
<p>Here’s something that would have sounded crazy five years ago: non-English programming now makes up over 40% of Netflix’s global viewing. That’s not a fluke - that’s a fundamental shift in how people consume entertainment.</p>
<div class="cell">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-838b6a73d06fe89ff3df" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-838b6a73d06fe89ff3df">{"x":{"visdat":{"85732ba5a8f":["function () ","plotlyVisDat"]},"cur_data":"85732ba5a8f","attrs":{"85732ba5a8f":{"x":{},"y":{},"mode":"lines+markers","line":{"color":"#E50914","width":4},"text":{},"hoverinfo":"text+y","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":50,"l":60,"t":25,"r":10},"title":"Growth of Non-English Content","xaxis":{"domain":[0,1],"automargin":true,"title":"Year"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Total Hours Viewed (Billions)"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[2021,2022,2023,2024,2025],"y":[8.2769899999999996,13.579330000000001,13.69495,12.7254,10.0558],"mode":"lines+markers","line":{"color":"#E50914","width":4},"text":["8.3 B hours","13.6 B hours","13.7 B hours","12.7 B hours","10.1 B hours"],"hoverinfo":["text+y","text+y","text+y","text+y","text+y"],"type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>What the data shows is that Korean dramas, Spanish thrillers, and Hindi films are being watched by audiences who would never have sought out subtitled content before. Netflix’s recommendation algorithm is doing something interesting here - it’s getting people comfortable with content they might have initially skipped.</p>
<p>The business implications are huge. Instead of trying to create one piece of content that works everywhere, Netflix can create lots of pieces that work really well in specific places, then let the algorithm find global audiences for the best ones.</p>
<div class="cell">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-6c7ffa7d05fff387b508" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-6c7ffa7d05fff387b508">{"x":{"visdat":{"857375c6610":["function () ","plotlyVisDat"]},"cur_data":"857375c6610","attrs":{"857375c6610":{"x":{},"y":{},"text":{},"textposition":"outside","marker":{"color":"#E50914"},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":{"text":"Impact of International Content<br><sup>Key Metrics and Growth<\/sup>","x":0.5},"yaxis":{"domain":[0,1],"automargin":true,"title":"Count"},"xaxis":{"domain":[0,1],"automargin":true,"title":"","type":"category","categoryorder":"array","categoryarray":["Countries Producing","Cross-Cultural Hits","International Titles","Languages Featured"]},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["International Titles","Countries Producing","Languages Featured","Cross-Cultural Hits"],"y":[2500,35,45,180],"text":["2500 <br>+ 340 % growth","35 <br>+ 150 % growth","45 <br>+ 200 % growth","180 <br>+ 400 % growth"],"textposition":["outside","outside","outside","outside"],"marker":{"color":"#E50914","line":{"color":"rgba(31,119,180,1)"}},"type":"bar","error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="what-this-all-means" class="level2">
<h2 class="anchored" data-anchor-id="what-this-all-means">What This All Means</h2>
<p>Looking at this data, three things stand out:</p>
<ol type="1">
<li><p><strong>Stranger Things proves Netflix can create genuine cultural phenomena</strong> - not just popular shows, but things that become part of how people talk and think about entertainment.</p></li>
<li><p><strong>The India strategy shows that local investment actually works</strong> - rather than just dubbing American content, creating authentic local programming builds real market share.</p></li>
<li><p><strong>Non-English content has gone mainstream</strong> - what used to be a niche preference is now driving nearly half of global viewing hours.</p></li>
</ol>
<p>The implications for Netflix’s business model are pretty significant. Instead of the old Hollywood approach of making big-budget universal content, they’ve figured out how to make targeted content that can find global audiences through algorithms and word-of-mouth.</p>
<p>That’s not just a streaming strategy - it’s a fundamentally different way to think about entertainment as a business.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/riveramatthew\.github\.io\/STA9750-2025-FALL\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>